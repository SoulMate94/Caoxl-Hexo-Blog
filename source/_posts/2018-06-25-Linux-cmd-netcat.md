---
title: Linux 命令 「netcat」
date: 2018-06-25 09:14:21
categories: Linux cmd
tags: [Linux]
---

> `nc`命令是`netcat`命令的简称，都是用来**设置路由器**。

<!-- more -->

# 语法

```
    nc/netcat (选项)(参数)
```

# 选项

- `-g`<网关>:   设置路由器跃程通信网关, 最多设置8个
- `-G`<指向器数目>:    设置来源路由指向器, 其数值为4的倍数
- `-h`:   在线帮助
- `-i`<延迟秒速>: 设置时间间隔,以便传送信息以及扫描通信端口
- `-l`:   使用监听模式,监控传入的资料
- `-n`:   直接使用ip地址,而不通过域名服务器
- `-o`<输出文件>: 指定文件名称,把往来传输的数据以16进制字妈倾倒成该文件保存
- `-p`<通信端口>: 设置本地主机使用的通信端口
- `-r`:   指定源端口和目的端口都进行随机的选择
- `-s`<来源位址>: 设置本地主机送出数据包的IP地址
- `-u`:   使用UDP传输协议
- `-v`:   显示指令执行过程
- `-w`<超时秒数>: 设置等待连线的时间
- `-z`:   使用0输入/输出模式, 只在扫描通信端口时使用

# 参数

- 主机: 指定主机的IP地址主机名称
- 端口号: 可以是单个整数或者是一个范围


# 实例

- 远程拷贝文件

从`server1`拷贝文件到`server2`上。需要先在`server2`上，用`nc`激活监听。

`server2`上运行：

```
    nc -lp 1234 > install.log
```

`server1`上运行：

```
    ll install.log
    
    nc -w 1 192.168.228.222 1234 < install.log
```

- 克隆硬盘或分区

```
    nc -l -p 1234 | dd of=/dev/sda
```

`server1`上执行传输，即可完成从`server1`克隆`sda`硬盘到`server2`的任务：

```
    dd if=/dev/sda | nc 192.168.228.222 1234
```

- 端口扫描

```
    nc -v -w 1 192.168.228.222 -z 1-1000
```

- 保存`Web`页面

```
    while true: do
        nc -l -p 80 -q 1 < somepage.html
```

- 聊天

```
    nc -lp 1234
```