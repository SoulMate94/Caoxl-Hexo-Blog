---
title: Linux 命令 「sar」
date: 2018-07-23 12:00:09
categories: Linux cmd
tags: [Linux]
---

> **sar命令**是Linux下系统运行状态统计工具，它将指定的操作系统状态计数器显示到标准输出设备

<!-- more -->

sar工具将对系统当前的状态进行取样，然后通过计算数据和比例来表达系统的当前运行状态。它的特点是可以连续对系统取样，获得大量的取样数据。取样数据和分析的结果都可以存入文件，使用它时消耗的系统资源很小

# 语法

```
    sar (选项) (参数)
```

# 选项

- `-A`: 显示所有的报告信息
- `-b`: 显示I/O速率
- `-B`: 显示进程创建活动
- `-c`: 显示进程创建活动
- `-d`: 显示每个块设备的状态
- `-e`: 设置显示报告的结束时间
- `-f`: 从指定文件提取报告
- `-i`: 设状态信息刷新的间隔时间
- `-P`: 报告每个CPU的状态
- `-R`: 显示内存状态
- `-u`: 显示CPU利用率
- `-v`: 显示索引节点, 文件和其他内核表的状态
- `-w`: 显示交换分区状态
- `-x`: 显示给定进程的状态

# 参数

- 间隔时间: 每次报告的间隔时间 (秒)
- 次数: 显示报告的次数


# 实例

## 察看内存和交换空间的使用率

```
    [root@caoxianliang ~]# sar -r
    Linux 3.10.0-862.3.2.el7.x86_64 (caoxianliang) 	07/23/2018 	_x86_64_	(1 CPU)
    
    12:00:01 AM kbmemfree kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty
    12:10:01 AM    128632    886804     87.33     88516    552564    536796     52.86    461080    312884       208
    12:20:01 AM    128720    886716     87.32     88544    552572    536796     52.86    461088    312912       208
    12:30:01 AM    128704    886732     87.33     88584    552588    536796     52.86    461132    312920       292
```

## 观察系统部件10分钟, 并对数据进行排序

```
    [root@caoxianliang ~]# sar -o temp 60 10
    Linux 3.10.0-862.3.2.el7.x86_64 (caoxianliang) 	07/23/2018 	_x86_64_	(1 CPU)
    
    02:24:19 PM     CPU     %user     %nice   %system   %iowait    %steal     %idle
    02:24:34 PM     all      0.13      0.00      0.13      0.00      0.00     99.73
    Average:        all      0.13      0.00      0.13      0.00      0.00     99.73
```